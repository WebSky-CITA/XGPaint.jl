var documenterSearchIndex = {"docs":
[{"location":"cib/#Cosmic-Infrared-Background-(CIB)","page":"CIB","title":"Cosmic Infrared Background (CIB)","text":"","category":"section"},{"location":"cib/","page":"CIB","title":"CIB","text":"The Planck 2013 CIB model can be applied using CIB_Planck2013{T}(). The following code is a little more verbose than typical Julia code, as one has to repeatedly specify the type Float32 when creating objects. This allows one to more easily fit the entire source catalog into memory.","category":"page"},{"location":"cib/#Sources","page":"CIB","title":"Sources","text":"","category":"section"},{"location":"cib/","page":"CIB","title":"CIB","text":"One first loads the halo positions and masses into memory. This package takes halo positions in the shape (3 N_mathrmhalos), where the first dimension is the Cartesian coordinates x y z.","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"using XGPaint\nusing Healpix\n\n## Load halos from HDF5 files, establish a CIB model and cosmology\nwebsky_directory = \"/global/cfs/cdirs/sobs/www/users/Radio_WebSky\"\nhalo_pos, halo_mass = read_halo_catalog_hdf5(\n    \"$(websky_directory)/websky_halos-light.hdf5\")","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"Now one specifes the background cosmology and the source model.","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"# configuration objects\ncosmo = get_cosmology(Float32; h=0.7, OmegaM=0.25)\nmodel = CIB_Planck2013{Float32}()\n\n# generate sources (healpix pixel, luminosities, etc. \n@time sources = generate_sources(model, cosmo, halo_pos, halo_mass);","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"This sources is a NamedTuple with arrays for centrals,","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"hp_ind_cen: healpix index of the central\nlum_cen: luminosity of the central\nredshift_cen: redshift of the central\ndist_cen: distance to the central","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"There are additionally arrays for the satellites,","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"hp_ind_sat: healpix index of the satellite\nlum_sat: luminosity of the satellite\nredshift_sat: redshift of the satellite\ndist_sat: distance to the satellite","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"There are also two integers in sources  for the total number of centrals N_cen and total number of satellites N_sat.","category":"page"},{"location":"cib/#Map-making","page":"CIB","title":"Map-making","text":"","category":"section"},{"location":"cib/","page":"CIB","title":"CIB","text":"Once these sources are generated, one needs to create some buffer arrays for map-making. The fluxes of the centrals and satellites are deposited into these arrays, before the map is generated.","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"# Create some empty arrays for the fluxes to be deposited\nfluxes_cen = Array{Float32, 1}(undef, sources.N_cen)\nfluxes_sat = Array{Float32, 1}(undef, sources.N_sat)\nm = Map{Float64,RingOrder}(model.nside)  # create a Healpix map","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"These arrays are used by paint! to create maps. We then save those to disk. We add a time macro to get some info on how long it takes. Note that with NERSC's notoriously slow filesystem, writing to disk can take as long as generating the maps!","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"for freq in [\"100\", \"143\", \"217\" \"353\", \"545\"]\n    @time paint!(m, parse(Float32, freq) * 1.0f9, model, \n        sources, fluxes_cen, fluxes_sat)\n    saveToFITS(m, \"!/global/cscratch1/sd/xzackli/cib/cib$(freq).fits\")\nend","category":"page"},{"location":"cib/","page":"CIB","title":"CIB","text":"CIB_Planck2013","category":"page"},{"location":"cib/#XGPaint.CIB_Planck2013","page":"CIB","title":"XGPaint.CIB_Planck2013","text":"CIB_Planck2013{T}(model parameters...)\n\nDefine CIB model parameters. Defaults are from Viero et al. 2013.\n\nmodel = CIB_Planck2013{Float32}(shang_Mpeak=10^12.4)\n\n\n\n\n\n","category":"type"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = XGPaint","category":"page"},{"location":"#XGPaint","page":"Home","title":"XGPaint","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"XGPaint paints maps of extragalactic foregrounds using halo models. We provide CIB and radio models.","category":"page"}]
}
